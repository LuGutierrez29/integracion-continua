version:  "3.9"

services:
  jenkins:
    image:  jenkins/jenkins:lts
    privileged: true
    user: root
    ports:
      - "8080:8080"
      - "50000:50000"
    container_name: jenkins
    volumes:
      - ./jenkins-data:/var/jenkins_home
      - ./var/run/docker.sock:/var/run/docker.sock
    expose:
      - 4444
  agent:
    image:  jenkins/ssh-agent:jdk11
    privileged: true
    user: root
    container_name: agent
    expose:
      - 22
    environment:
      - JENKINS_AGENT_SSH_PUBKEY=ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDHiZUAcIoWHkI0+QT61r5RGey31CC5Oscwp4/qBMLq4ISCN3e3DDMmug4KeMBhg1iinDDLS4r33LGzE7FFsRzlNKqWT9hmYrCMltv/MzVz9vR7vkdiQ/KRMckOc1+tWok3r5ANEx5uaFS7uTlCbGfowl13SHL61555LI7I0L1trLsjOpIt6E1mvdz1FxyIf3JtHHdNO8QWoFvJT3E/dJOA3wiWMy9X6Q3XYWFfGQgetF3YVacaG4DwTaEMfQ4A0qu/0ty9uvmK2zzYXd4iryGT1H/D+pn/GHLbXSiN3yrUR0EH0ZqmyKJ71Pe3TC0VQli/ZirWdSTgsJokikFLvCZZe4vn930PpXuhFpxyQdkZi80Ii/GUojL/YF4HD9RJIeVZD8UNNOAnlA+u+69q92LBI3GpqF0ZUXbEWcSU3Mx5VnRyGnk7n/rJ/BL+HGdDrJAUj8hiBiB8W++Jg2DrCqppvG3mDu2sfjRtnFFVIIQ/t+IXk7bM4Zq9RqfJPpOOiqE= aleja@DESKTOP-5GVEALM
      